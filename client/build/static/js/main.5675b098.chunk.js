(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,s){},47:function(e,t,s){},75:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),n=s(34),r=s.n(n),o=(s(46),s(11)),l=(s.p,s(47),s(13)),i=s(9),j=s(8),b=s.n(j),d=s(10),u=s(1),h=function(e){var t=e.Cookies,s=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),c=Object(o.a)(s,2),n=c[0],r=c[1],j=Object(a.useState)({email:"",password:""}),h=Object(o.a)(j,2),p=h[0],m=h[1],O=Object(a.useState)({firstName:!1,lastName:!1,email:!1,password:!1,confirmPassword:!1}),x=Object(o.a)(O,2),f=x[0],g=x[1],v=Object(a.useState)({email:!1,password:!1}),N=Object(o.a)(v,2),w=N[0],y=N[1],C=function(e){r(Object(i.a)(Object(i.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))},k=function(e){m(Object(i.a)(Object(i.a)({},p),{},Object(l.a)({},e.target.name,e.target.value)))},P=Object(a.useState)(!1),S=Object(o.a)(P,2),A=S[0],J=S[1];return Object(u.jsxs)("div",{className:"container container-fluid",children:[Object(u.jsx)("div",{style:{marginTop:"60px",backgroundImage:"url('https://www.google.com/url?sa=i&url=http%3A%2F%2Fclipart-library.com%2Fcloud-bubble-cliparts.html&psig=AOvVaw2fzu2jk7g-JHJqppm2dylC&ust=1633138389891000&source=images&cd=vfe&ved=0CAkQjRxqFwoTCKibx96IqPMCFQAAAAAdAAAAABAD')"},children:Object(u.jsx)("h3",{children:"Share Your Thoughts on different Matters."})}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:"100px"},children:[Object(u.jsx)("form",{className:"card",onSubmit:function(e){if(e.preventDefault(),n.firstName.length<3)var s=!0;if(n.lastName.length<3)var a=!0;if(n.email.length<3)var c=!0;if(n.password.length<8)var o=!0;if(n.confirmPassword!==n.password)var l=!0;g(Object(i.a)(Object(i.a)({},f),{},{firstName:s,lastName:a,email:c,password:o,confirmPassword:l})),s||a||c||o||l||(b.a.post("http://localhost:8000/api/users/register",n,{withCredentials:!0}).then((function(e){t.set("user",JSON.stringify(e.data)),Object(d.c)("/success")})).catch((function(e){return console.log(e.response)})),r({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}))},children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("input",{placeholder:"First Name",value:n.firstName,onChange:C,name:"firstName",type:"text"}),f.firstName?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Last Name",value:n.lastName,onChange:C,name:"lastName",type:"text"}),f.lastName?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Email",value:n.email,onChange:C,name:"email",type:"email"}),f.email?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Password",type:"password",value:n.password,onChange:C,name:"password"}),f.password?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 8 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Confirm Password",type:"password",value:n.confirmPassword,onChange:C,name:"confirmPassword"}),f.confirmPassword?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"passwords has to match."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn btn-outline-success",children:"Register"})]})}),Object(u.jsx)("form",{class:"card",onSubmit:function(e){if(e.preventDefault(),p.email.length<3)var s=!0;if(p.password.length<8)var a=!0;y(Object(i.a)(Object(i.a)({},w),{},{email:s,password:a})),s||a||(b.a.post("http://localhost:8000/api/users/login",p,{withCredentials:!0}).then((function(e){J(!1),console.log(e.data),t.set("user",JSON.stringify(e.data)),Object(d.c)("/success")})).catch((function(e){J(!0)})),m({email:"",password:""}))},children:Object(u.jsxs)("div",{className:"card-body",children:[A?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"Wrong Email or Password"}):null,Object(u.jsx)("input",{value:p.email,placeholder:"Email",onChange:k,name:"email",type:"email"}),w.email?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{value:p.password,placeholder:"Password",type:"password",onChange:k,name:"password"}),w.password?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 8 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn btn-outline-success",children:"Log In"})]})})]})]})},p=s(41),m=Object(a.createContext)(null),O=function(e){var t=e.Cookies,s=Object(a.useContext)(m),c=s.allPosts,n=s.setAllPosts,r=s.post,o=s.setPost,j=s.clicked,d=s.setClicked,h=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(u.jsx)("div",{className:"scheduler-border",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),b.a.post("http://localhost:8000/api/posts",r,{withCredentials:!0}).then((function(e){return e.data})).then((function(e){n([].concat(Object(p.a)(c),[e])),d(!j),console.log()})).catch((function(e){return console.log(e)})),o({title:"",content:"",comments:[],creator:{firstName:JSON.parse(t.get("user")).firstName,lastName:JSON.parse(t.get("user")).lastName}})},method:"POST",children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("legend",{children:"Share Your Thinking"}),Object(u.jsx)("p",{children:Object(u.jsx)("input",{size:"42",rows:"1",onChange:h,value:r.title,name:"title",id:"title",cols:"40",placeholder:"Post a Question?"})}),Object(u.jsx)("p",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(u.jsx)("textarea",{onChange:h,value:r.content,name:"content",id:"content",cols:"40",placeholder:"Your Opinion...."})}),Object(u.jsx)("button",{className:"btn btn-outline-secondary ",children:"Add Post"})]})})})},x=s(36),f=s(22),g=s.n(f),v=s(37),N=function(e){var t=e.post,s=(e.idx,Object(a.useRef)()),c=Object(a.useContext)(m),n=(c.setAllPosts,c.allPosts,c.clicked),r=c.setClicked;function o(){return(o=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,b.a.post("http://localhost:8000/api/posts/comments/".concat(t.target.postId.value),{comment:t.target.comment.value}),e.next=5,r(!n);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:return e.prev=10,s.current.value="",e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})))).apply(this,arguments)}return Object(u.jsxs)("form",{method:"post",onSubmit:function(e){return o.apply(this,arguments)},children:[Object(u.jsx)("input",{name:"postId",type:"hidden",value:t._id}),Object(u.jsx)("textarea",{ref:s,rows:"1",cols:"40",name:"comment",placeholder:"respond with your thoughts...."}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{style:{color:"blue"},className:"btn btn-outline-primary",children:"add comment"})]})},w=function(e){var t=e.post;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{style:{color:"green",textDecoration:"underline"},children:"Comments"}),t.comments?t.comments.map((function(e){return Object(u.jsx)("p",{children:e.comment})})):null]})},y=function(e){Object(x.a)(e);var t=Object(a.useContext)(m),s=t.allPosts,c=t.Cookies;if(console.log(JSON.parse(c.get("user")).firstName),null!==s)return Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"All Posts Here:"}),s?s.map((function(e,t){return Object(u.jsxs)("div",{children:[e.creator&&e.creator!=JSON.parse(c.get("user"))._id?Object(u.jsxs)("span",{children:["Asked By: ",Object(u.jsx)(d.a,{to:"/user/".concat(e.creator._id),children:e.creator.firstName+" "+e.creator.lastName})]}):Object(u.jsx)(d.a,{to:"/user/".concat(JSON.parse(c.get("user")).id),children:JSON.parse(c.get("user")).firstName+" "+JSON.parse(c.get("user")).lastName}),Object(u.jsxs)("legend",{children:[t+1,". ",e.title]}),Object(u.jsx)("p",{children:e.content}),Object(u.jsx)(w,{post:e}),Object(u.jsx)(N,{post:e,idx:t})]},t)})):null]})},C=s(38),k=s(2),P=function(e){var t=e.Cookies;if(t.get("user")){var s=JSON.parse(t.get("user"));return Object(u.jsx)(u.Fragment,{children:t.get("user")?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)("h2",{children:["Welcome ","".concat(s.firstName," ").concat(s.lastName)]}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),b.a.get("http://localhost:8000/api/users/logout",{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),t.remove("user"),Object(d.c)("/")},className:"btn btn-outline-danger",children:"Logout"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(O,{Cookies:t}),Object(u.jsx)(y,{})]}):Object(u.jsx)(C.a,{children:Object(u.jsx)(k.a,{to:"/"})})})}Object(d.c)("/")},S=s(19),A=s.n(S);var J=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)(!1),r=Object(o.a)(n,2),l=r[0],i=r[1],j=Object(a.useState)({title:"",content:"",comments:[],creator:{}}),p=Object(o.a)(j,2),O=p[0],x=p[1];return Object(a.useEffect)((function(){b.a.get("http://localhost:8000/api/posts").then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[l]),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(m.Provider,{value:{allPosts:s,setAllPosts:c,post:O,setPost:x,clicked:l,setClicked:i,Cookies:A.a},children:Object(u.jsxs)(d.b,{children:[Object(u.jsx)(h,{exact:!0,Cookies:A.a,path:"/"}),Object(u.jsx)(P,{exact:!0,Cookies:A.a,setAllPosts:c,allPosts:s,path:"/success"})]})})})},F=s(77),I=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,78)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(F.a,{children:Object(u.jsx)(J,{})})}),document.getElementById("root")),I()}},[[75,1,2]]]);
//# sourceMappingURL=main.5675b098.chunk.js.map