(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,s){},45:function(e,t,s){},72:function(e,t,s){"use strict";s.r(t);var a=s(0),c=s.n(a),n=s(33),r=s.n(n),o=(s(44),s(11)),l=(s.p,s(45),s(13)),i=s(9),j=s(8),b=s.n(j),d=s(10),u=s(1),h=function(e){var t=e.Cookies,s=Object(a.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),c=Object(o.a)(s,2),n=c[0],r=c[1],j=Object(a.useState)({email:"",password:""}),h=Object(o.a)(j,2),m=h[0],p=h[1],O=Object(a.useState)({firstName:!1,lastName:!1,email:!1,password:!1,confirmPassword:!1}),f=Object(o.a)(O,2),x=f[0],g=f[1],v=Object(a.useState)({email:!1,password:!1}),N=Object(o.a)(v,2),w=N[0],y=N[1],C=function(e){r(Object(i.a)(Object(i.a)({},n),{},Object(l.a)({},e.target.name,e.target.value)))},P=function(e){p(Object(i.a)(Object(i.a)({},m),{},Object(l.a)({},e.target.name,e.target.value)))},S=Object(a.useState)(!1),k=Object(o.a)(S,2),A=k[0],J=k[1];return Object(u.jsxs)("div",{className:"container container-fluid",children:[Object(u.jsx)("div",{style:{marginTop:"60px",backgroundImage:"url('https://www.google.com/url?sa=i&url=http%3A%2F%2Fclipart-library.com%2Fcloud-bubble-cliparts.html&psig=AOvVaw2fzu2jk7g-JHJqppm2dylC&ust=1633138389891000&source=images&cd=vfe&ved=0CAkQjRxqFwoTCKibx96IqPMCFQAAAAAdAAAAABAD')"},children:Object(u.jsx)("h3",{children:"Share Your Thoughts on different Matters."})}),Object(u.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",alignItems:"center",margin:"100px"},children:[Object(u.jsx)("form",{className:"card",onSubmit:function(e){if(e.preventDefault(),n.firstName.length<3)var s=!0;if(n.lastName.length<3)var a=!0;if(n.email.length<3)var c=!0;if(n.password.length<8)var o=!0;if(n.confirmPassword!==n.password)var l=!0;g(Object(i.a)(Object(i.a)({},x),{},{firstName:s,lastName:a,email:c,password:o,confirmPassword:l})),s||a||c||o||l||(b.a.post("http://localhost:8000/api/users/register",n,{withCredentials:!0}).then((function(e){t.set("user",JSON.stringify(e.data)),Object(d.c)("/success")})).catch((function(e){return console.log(e.response)})),r({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}))},children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("input",{placeholder:"First Name",value:n.firstName,onChange:C,name:"firstName",type:"text"}),x.firstName?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Last Name",value:n.lastName,onChange:C,name:"lastName",type:"text"}),x.lastName?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Email",value:n.email,onChange:C,name:"email",type:"email"}),x.email?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Password",type:"password",value:n.password,onChange:C,name:"password"}),x.password?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 8 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Confirm Password",type:"password",value:n.confirmPassword,onChange:C,name:"confirmPassword"}),x.confirmPassword?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"passwords has to match."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn btn-outline-success",children:"Register"})]})}),Object(u.jsx)("form",{class:"card",onSubmit:function(e){if(e.preventDefault(),m.email.length<3)var s=!0;if(m.password.length<8)var a=!0;y(Object(i.a)(Object(i.a)({},w),{},{email:s,password:a})),s||a||(b.a.post("http://localhost:8000/api/users/login",m,{withCredentials:!0}).then((function(e){J(!1),console.log(e.data),t.set("user",JSON.stringify(e.data)),Object(d.c)("/success")})).catch((function(e){J(!0)})),p({email:"",password:""}))},children:Object(u.jsxs)("div",{className:"card-body",children:[A?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"Wrong Email or Password"}):null,Object(u.jsx)("input",{placeholder:"Email",onChange:P,name:"email",type:"email"}),w.email?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 3 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("input",{placeholder:"Password",type:"password",onChange:P,name:"password"}),w.password?Object(u.jsx)("span",{style:{color:"red",display:"block"},children:"it has to be more than 8 chars."}):null,Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:"btn btn-outline-success",children:"Log In"})]})})]})]})},m=s(39),p=Object(a.createContext)(null),O=function(e){var t=e.Cookies,s=Object(a.useContext)(p),c=s.allPosts,n=s.setAllPosts,r=s.post,o=s.setPost,j=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(u.jsx)("div",{className:"scheduler-border",children:Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),b.a.post("http://localhost:8000/api/posts",r,{withCredentials:!0}).then((function(e){return e.data})).then((function(e){n([].concat(Object(m.a)(c),[e])),console.log()})).catch((function(e){return console.log(e)})),o({title:"",content:"",comments:[],creator:{firstName:JSON.parse(t.get("user")).firstName,lastName:JSON.parse(t.get("user")).lastName}})},method:"POST",children:Object(u.jsxs)("fieldset",{children:[Object(u.jsx)("legend",{children:"Share Your Thinking"}),Object(u.jsx)("p",{children:Object(u.jsx)("input",{size:"42",rows:"1",onChange:j,value:r.title,name:"title",id:"title",cols:"40",placeholder:"Post a Question?"})}),Object(u.jsx)("p",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:Object(u.jsx)("textarea",{onChange:j,value:r.content,name:"content",id:"content",cols:"40",placeholder:"Your Opinion...."})}),Object(u.jsx)("button",{className:"btn btn-outline-secondary ",children:"Add Post"})]})})})},f=s(35),x=function(e){var t=e.post,s=Object(a.useRef)();return Object(u.jsxs)("form",{method:"post",onSubmit:function(e){e.preventDefault(),b.a.post("http://localhost:8000/api/posts/comments/".concat(e.target.postId.value),{comment:e.target.comment.value}).then((function(e){return e})).catch((function(e){return console.log(e)})),s.current.value=""},children:[Object(u.jsx)("input",{name:"postId",type:"hidden",value:t._id}),Object(u.jsx)("textarea",{ref:s,rows:"1",cols:"40",name:"comment",placeholder:"respond with your thoughts...."}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{style:{color:"blue"},className:"btn btn-outline-primary",children:"add comment"})]})},g=function(e){Object(f.a)(e);var t=Object(a.useContext)(p),s=t.allPosts,c=t.Cookies;return console.log(JSON.parse(c.get("user")).firstName),Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"All Posts Here:"}),s?s.map((function(e,t){return Object(u.jsxs)("div",{children:[e.creator&&e.creator!=JSON.parse(c.get("user"))._id?Object(u.jsxs)("span",{children:["Asked By: ",Object(u.jsx)(d.a,{to:"/user/".concat(e.creator._id),children:e.creator.firstName+" "+e.creator.lastName})]}):Object(u.jsx)(d.a,{to:"/user/".concat(JSON.parse(c.get("user")).id),children:JSON.parse(c.get("user")).firstName+" "+JSON.parse(c.get("user")).lastName}),Object(u.jsxs)("legend",{children:[t+1,". ",e.title]}),Object(u.jsx)("p",{children:e.content}),Object(u.jsx)("h6",{children:"comments:"}),Object(u.jsx)(x,{post:e})]},t)})):null]})},v=s(36),N=s(2),w=function(e){var t=e.Cookies;if(t.get("user")){var s=JSON.parse(t.get("user"));return Object(u.jsx)(u.Fragment,{children:t.get("user")?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("br",{}),Object(u.jsxs)("h2",{children:["Welcome ","".concat(s.firstName," ").concat(s.lastName)]}),Object(u.jsx)("button",{onClick:function(e){e.preventDefault(),b.a.get("http://localhost:8000/api/users/logout",{withCredentials:!0}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)})),t.remove("user"),Object(d.c)("/")},className:"btn btn-outline-danger",children:"Logout"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)(O,{Cookies:t}),Object(u.jsx)(g,{})]}):Object(u.jsx)(v.a,{children:Object(u.jsx)(N.a,{to:"/"})})})}Object(d.c)("/")},y=s(19),C=s.n(y);var P=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),s=t[0],c=t[1],n=Object(a.useState)({title:"",content:"",comments:[],creator:{}}),r=Object(o.a)(n,2),l=r[0],i=r[1];return Object(a.useEffect)((function(){b.a.get("http://localhost:8000/api/posts").then((function(e){c(e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(p.Provider,{value:{allPosts:s,setAllPosts:c,post:l,setPost:i,Cookies:C.a},children:Object(u.jsxs)(d.b,{children:[Object(u.jsx)(h,{Cookies:C.a,path:"/"}),Object(u.jsx)(w,{Cookies:C.a,setAllPosts:c,allPosts:s,path:"/success"})]})})})},S=s(74),k=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,75)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,r=t.getTTFB;s(e),a(e),c(e),n(e),r(e)}))};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(S.a,{children:Object(u.jsx)(P,{})})}),document.getElementById("root")),k()}},[[72,1,2]]]);
//# sourceMappingURL=main.699fee0b.chunk.js.map